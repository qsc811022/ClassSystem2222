<!-- src/components/Navbar.vue -->

<template>
  <nav class="navbar">
    <h2>ğŸ“˜ èª²ç¨‹ç³»çµ±</h2>

    <div class="nav-links">
      <!-- å­¸ç”Ÿ or ç®¡ç†å“¡ éƒ½èƒ½çœ‹åˆ° -->
      <router-link to="/courses">èª²ç¨‹æ¸…å–®</router-link>
      <router-link to="/calendar">ğŸ“… èª²ç¨‹æœˆæ›†</router-link>

      <!-- å³ä¸Šè§’ä½¿ç”¨è€…è³‡è¨Š -->
      <span v-if="auth.user">
        {{ auth.user.name }} ({{ auth.user.role }})
      </span>
      <button v-if="auth.user" @click="logout">ç™»å‡º</button>
    </div>
  </nav>
</template>
<script setup lang="ts">
import { useAuthStore } from "@/store/auth";
import { useRouter } from "vue-router";

const auth = useAuthStore();
const router = useRouter();

function logout() {
  auth.logout();       // âœ… æ¸…ç©º token & user
  router.push("/login"); // âœ… å›åˆ°ç™»å…¥é 
  console.log("âœ… å·²ç™»å‡º");
}
</script>

<style scoped>
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background: #1976d2;
  color: white;
}

.nav-links {
  display: flex;
  gap: 15px;
  align-items: center;
}

a {
  color: white;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

button {
  background: #e53935;
  border: none;
  padding: 5px 10px;
  color: white;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  opacity: 0.8;
}
</style>