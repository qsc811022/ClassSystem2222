ğŸ” å•é¡Œé»

ä½ ç¾åœ¨ handleGoogleLogin å¯«çš„æ˜¯ï¼š

function handleGoogleLogin() {
  window.location.href = "http://localhost:3000/auth/google";
}


ä½†æ˜¯å¾Œç«¯ app.ts æ˜¯é€™æ¨£æ›çš„ï¼š

app.use("/api/auth", authRoutes);


æ‰€ä»¥å¯¦éš› Google OAuth çš„å…¥å£æ‡‰è©²æ˜¯ï¼š

http://localhost:3000/api/auth/google

âœ… ä¿®æ­£ handleGoogleLogin
function handleGoogleLogin() {
  window.location.href = "http://localhost:3000/api/auth/google";
}

ğŸ’¡ è£œå……å»ºè­°

é¿å…ç¡¬ç·¨ URL
å¯ä»¥æŠŠå¾Œç«¯ç¶²å€æ”¾åˆ° .envï¼š

VITE_API_URL=http://localhost:3000/api


ç„¶å¾Œåœ¨ Login.vueï¼š

function handleGoogleLogin() {
  window.location.href = `${import.meta.env.VITE_API_URL}/auth/google`;
}


ç™»å…¥å®Œæˆå¾Œè¦å›åˆ°å‰ç«¯
åœ¨ authRoutes.ts çš„ Google callbackï¼Œç¾åœ¨æ˜¯ res.json({ message, token, user })ã€‚
å¦‚æœè¦ è‡ªå‹•å›åˆ°å‰ç«¯ï¼Œå¯ä»¥æ”¹æˆ redirectï¼Œå¸¶ token å›å»ï¼š

res.redirect(`http://localhost:5173/courses?token=${token}`);


ç„¶å¾Œåœ¨å‰ç«¯ router.beforeEach æª¢æŸ¥ç¶²å€ query è£¡æœ‰æ²’æœ‰ tokenï¼Œå¦‚æœæœ‰å°±å­˜é€² Piniaã€‚

not fix issue


